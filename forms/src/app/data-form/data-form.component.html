<form class="form-horizontal " [formGroup]="formulario" (ngSubmit)="onSubmit()">
    <div class="form-group" [ngClass]="aplicaCssErro('nome')">
        <div class="col-sm-12" >
            <label for="nome" class="control-label">Nome</label>
        </div>
        <div class="col-sm-12" >
            <input type="text" class="form-control" id="nome" formControlName="nome"
            placeholder="Nome">

            <app-campo-control-erro
                [mostrarErro]="validaTouchedValid('nome')"
                msgErro="Nome obrigatório">
            </app-campo-control-erro>
            
        </div>
    </div>    
    <div class="form-group  mt-1"  [ngClass]="aplicaCssErro('email')">
        <div class="col-sm-12">
            <label for="email">Email</label>
        </div>
        <div class="col-sm-12 mt-1">
            <input type="email" class="form-control" id="email" formControlName="email"
            placeholder="nome@email.com">

            <app-campo-control-erro
                [mostrarErro]="validaTouchedValid('email')"
                msgErro="Email obrigatório">
            </app-campo-control-erro> 
            <app-campo-control-erro
                [mostrarErro]="verificarEmailInvalido()"
                msgErro="Email invalido">
            </app-campo-control-erro> 
        </div>         
    </div>
    <div formGroupName="endereco">    
        <div class="form-group">
            <div   class="row g-3 mt-1">
                <div class="form-group col-md-3 " [ngClass]="aplicaCssErro('.endereco.cep')">            
                    <label for="cep">CEP</label>
                    <input type="text" class="form-control" formControlName="cep" id="cep" name="cep"
                    placeholder="CEP" 
                    (blur)="consultaCEP()">
                    
                    <app-campo-control-erro
                        [mostrarErro]="validaTouchedValid('endereco.cep')"
                        msgErro="Cep obrigatório">
                    </app-campo-control-erro>                  
                </div>  
                
                <div class="form-group col-md-3" [ngClass]="aplicaCssErro('endereco.numero')">          
                    <label for="numero">Número</label>
                    <input type="text" class="form-control" id="numero" name="numero" formControlName="numero"
                    placeholder="Número" > 

                    <app-campo-control-erro
                        [mostrarErro]="validaTouchedValid('endereco.numero')"
                        msgErro="Número obrigatório">
                    </app-campo-control-erro>
                </div>

                <div class="form-group col-md-6 ">          
                    <label for="complemento">Complemento</label>
                    <input type="text" class="form-control" id="complemento" name="complemento" formControlName="complemento"
                    placeholder="Complemento">                               
                </div>
        

                <div class="form-group" [ngClass]="aplicaCssErro('endereco.rua')">
                    <div class="col-sm-12">
                        <label for="rua" class="form-label">Rua</label>
                    </div>
                    <div class="col-sm-12">
                        <input type="text" class="form-control " id="rua" name="rua" formControlName="rua"
                        placeholder="Rua" >
                        <app-campo-control-erro
                            [mostrarErro]="validaTouchedValid('endereco.rua')"
                            msgErro="Rua obrigatório">
                        </app-campo-control-erro>
                        
                    </div>
                </div>

                <div class="form-group col-md-5 " [ngClass]="aplicaCssErro('endereco.bairro')">            
                    <label for="bairro">Bairro</label>
                    <input type="text" class="form-control" id="bairro" name="bairro" formControlName="bairro"
                    placeholder="bairro">
                    
                    <app-campo-control-erro
                        [mostrarErro]="validaTouchedValid('endereco.bairro')"
                        msgErro="Bairro obrigatório">
                    </app-campo-control-erro>                   
                </div>
                
                <div class="form-group col-md-4 " [ngClass]="aplicaCssErro('endereco.cidade')">            
                    <label for="cidade">Cidade</label>
                    <input type="text" class="form-control" id="cidade" name="cidade" formControlName="cidade"
                    placeholder="Cidade">
                    
                    <app-campo-control-erro
                        [mostrarErro]="validaTouchedValid('endereco.cidade')"
                        msgErro="Cidade obrigatório">
                    </app-campo-control-erro>                   
                </div>  

                <div class="form-group col-md-3 " [ngClass]="aplicaCssErro('endereco.estado')">            
                    <label for="estado">Estado</label>
                    <input type="text" class="form-control" id="estado" name="estado" formControlName="estado"
                    placeholder="estado">
                    
                    <app-campo-control-erro
                        [mostrarErro]="validaTouchedValid('endereco.estado')"
                        msgErro="estado obrigatório">
                    </app-campo-control-erro>                   
                </div>
            </div>
        </div>
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
    <button  class="btn btn-secundary" (click)= "resetar()">Cancelar</button>
    <app-form-debug [form]="formulario"></app-form-debug>
</form> 

    
  